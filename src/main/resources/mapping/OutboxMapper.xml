<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.hx.dao.OutboxMapper" >
    <resultMap id="BaseResultMap" type="com.hx.modle.Outbox" >
        <id property="id" column="id"/>
        <result property="receivingunit" column="receivingunit"/>
        <result property="receivenumber" column="receivenumber"/>
        <result property="create_time" column="create_time"/>
        <result property="sendline" column="sendline"/>
        <result property="message" column="message"/>
        <result property="sendernumber" column="sendernumber"/>
    </resultMap>
    <select id="getAll" resultType="com.hx.modle.Outbox">
      SELECT
      t.id,t.sendernumber,t.receivenumber,t.receivingunit,t.create_time,t.sendline,t.message
      FROM outbox  t
    </select>

    <select id="queryTotalCount" resultType="int">
        select  COUNT(*) from outbox WHERE 1 = 1

    </select>

    <select id="queryALLMailList" resultType="com.hx.modle.Outbox">
      select  * from outbox WHERE 1 = 1
      LIMIT ${params.start}, ${params.offset}
     </select>

    <delete id="deloutbox">
        DELETE FROM outbox WHERE id = #{id}

    </delete>

  <select id="getById" resultType="com.hx.modle.Outbox">
      SELECT
      t.id,t.sendernumber,t.receivenumber,t.receivingunit,t.create_time,t.sendline,t.message
      FROM outbox  t where id = #{id}
  </select>

    <insert id="insert" parameterType="com.hx.modle.Outbox">
        INSERT INTO outbox(id,sendernumber,receivenumber,receivingunit,create_time,sendline,message) VALUES (
          #{outbox.id},
          #{outbox.sendernumber},
          #{outbox.receivenumber},
          #{outbox.receivingunit},
          #{outbox.create_time},
          #{outbox.sendline},
          #{outbox.message}
        )
    </insert>

    <!--张立恒start-->
    <insert id="insertNewMessage" parameterType="com.hx.modle.Outbox">
        INSERT INTO outbox
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="sendernumber != null and sendernumber != ''">
                sendernumber,
            </if>
            <if test="receivenumber != null and receivenumber != ''">
                receivenumber,
            </if>
            <if test="receivingunit != null and receivingunit != ''">
                receivingunit,
            </if>
            <if test="create_time != null and create_time != ''">
                create_time,
            </if>
            <if test="sendline != null and sendline != ''">
                sendline,
            </if>
            <if test="message != null and message != ''">
                message,
            </if>
        </trim>
        <trim prefix=" values (" suffix=")" suffixOverrides=",">
            <if test="sendernumber != null and sendernumber != ''">
                #{sendernumber,jdbcType=VARCHAR},
            </if>
            <if test="receivenumber != null and receivenumber != ''">
                #{receivenumber,jdbcType=VARCHAR},
            </if>
            <if test="receivingunit != null and receivingunit != ''">
                #{receivingunit,jdbcType=VARCHAR},
            </if>
            <if test="create_time != null and create_time != ''">
                #{create_time,jdbcType=TIMESTAMP},
            </if>
            <if test="sendline != null and sendline != ''">
                #{sendline,jdbcType=VARCHAR},
            </if>
            <if test="message != null and message != ''">
                #{message,jdbcType=VARCHAR},
            </if>
        </trim>
    </insert>
    <!--张立恒end-->
</mapper>